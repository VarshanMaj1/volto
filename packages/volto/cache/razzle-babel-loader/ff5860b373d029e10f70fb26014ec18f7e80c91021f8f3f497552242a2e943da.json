{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Blocks/Search/components/SelectFacet.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport { Option, DropdownIndicator, MultiValueContainer } from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { selectTheme, customSelectStyles } from './SelectStyling';\nimport { selectFacetSchemaEnhancer, selectFacetStateToValue, selectFacetValueToQuery } from './base';\nconst SelectFacet = props => {\n  var _facet$title, _facet$field;\n  const {\n    facet,\n    choices,\n    reactSelect,\n    isMulti,\n    onChange,\n    value,\n    isEditMode\n  } = props;\n  const Select = reactSelect.default;\n  const v = Array.isArray(value) && value.length === 0 ? null : value;\n  return __jsx(Select, {\n    placeholder: (_facet$title = facet === null || facet === void 0 ? void 0 : facet.title) !== null && _facet$title !== void 0 ? _facet$title : (facet === null || facet === void 0 ? void 0 : (_facet$field = facet.field) === null || _facet$field === void 0 ? void 0 : _facet$field.label) || 'select...',\n    className: \"react-select-container\",\n    classNamePrefix: \"react-select\",\n    options: choices,\n    styles: customSelectStyles,\n    theme: selectTheme,\n    components: {\n      DropdownIndicator,\n      Option,\n      MultiValueContainer\n    },\n    isDisabled: isEditMode,\n    onChange: data => {\n      if (data) {\n        onChange(facet.field.value, isMulti ? data.map(({\n          value\n        }) => value) : data.value);\n      } else {\n        // data has been removed\n        onChange(facet.field.value, isMulti ? [] : '');\n      }\n    },\n    isMulti: facet.multiple,\n    isClearable: true,\n    value: v,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  });\n};\nSelectFacet.schemaEnhancer = selectFacetSchemaEnhancer;\nSelectFacet.stateToValue = selectFacetStateToValue;\nSelectFacet.valueToQuery = selectFacetValueToQuery;\nexport default injectLazyLibs('reactSelect')(SelectFacet);","map":{"version":3,"names":["React","injectLazyLibs","Option","DropdownIndicator","MultiValueContainer","selectTheme","customSelectStyles","selectFacetSchemaEnhancer","selectFacetStateToValue","selectFacetValueToQuery","SelectFacet","props","_facet$title","_facet$field","facet","choices","reactSelect","isMulti","onChange","value","isEditMode","Select","default","v","Array","isArray","length","__jsx","placeholder","title","field","label","className","classNamePrefix","options","styles","theme","components","isDisabled","data","map","multiple","isClearable","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","schemaEnhancer","stateToValue","valueToQuery"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Blocks/Search/components/SelectFacet.jsx"],"sourcesContent":["import React from 'react';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nimport {\n  Option,\n  DropdownIndicator,\n  MultiValueContainer,\n} from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { selectTheme, customSelectStyles } from './SelectStyling';\nimport {\n  selectFacetSchemaEnhancer,\n  selectFacetStateToValue,\n  selectFacetValueToQuery,\n} from './base';\n\nconst SelectFacet = (props) => {\n  const { facet, choices, reactSelect, isMulti, onChange, value, isEditMode } =\n    props;\n  const Select = reactSelect.default;\n  const v = Array.isArray(value) && value.length === 0 ? null : value;\n\n  return (\n    <Select\n      placeholder={facet?.title ?? (facet?.field?.label || 'select...')}\n      className=\"react-select-container\"\n      classNamePrefix=\"react-select\"\n      options={choices}\n      styles={customSelectStyles}\n      theme={selectTheme}\n      components={{ DropdownIndicator, Option, MultiValueContainer }}\n      isDisabled={isEditMode}\n      onChange={(data) => {\n        if (data) {\n          onChange(\n            facet.field.value,\n            isMulti ? data.map(({ value }) => value) : data.value,\n          );\n        } else {\n          // data has been removed\n          onChange(facet.field.value, isMulti ? [] : '');\n        }\n      }}\n      isMulti={facet.multiple}\n      isClearable\n      value={v}\n    />\n  );\n};\n\nSelectFacet.schemaEnhancer = selectFacetSchemaEnhancer;\nSelectFacet.stateToValue = selectFacetStateToValue;\nSelectFacet.valueToQuery = selectFacetValueToQuery;\n\nexport default injectLazyLibs('reactSelect')(SelectFacet);\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,wCAAwC;AACvE,SACEC,MAAM,EACNC,iBAAiB,EACjBC,mBAAmB,QACd,sDAAsD;AAC7D,SAASC,WAAW,EAAEC,kBAAkB,QAAQ,iBAAiB;AACjE,SACEC,yBAAyB,EACzBC,uBAAuB,EACvBC,uBAAuB,QAClB,QAAQ;AAEf,MAAMC,WAAW,GAAIC,KAAK,IAAK;EAAA,IAAAC,YAAA,EAAAC,YAAA;EAC7B,MAAM;IAAEC,KAAK;IAAEC,OAAO;IAAEC,WAAW;IAAEC,OAAO;IAAEC,QAAQ;IAAEC,KAAK;IAAEC;EAAW,CAAC,GACzET,KAAK;EACP,MAAMU,MAAM,GAAGL,WAAW,CAACM,OAAO;EAClC,MAAMC,CAAC,GAAGC,KAAK,CAACC,OAAO,CAACN,KAAK,CAAC,IAAIA,KAAK,CAACO,MAAM,KAAK,CAAC,GAAG,IAAI,GAAGP,KAAK;EAEnE,OACEQ,KAAA,CAACN,MAAM;IACLO,WAAW,GAAAhB,YAAA,GAAEE,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEe,KAAK,cAAAjB,YAAA,cAAAA,YAAA,GAAK,CAAAE,KAAK,aAALA,KAAK,wBAAAD,YAAA,GAALC,KAAK,CAAEgB,KAAK,cAAAjB,YAAA,uBAAZA,YAAA,CAAckB,KAAK,KAAI,WAAa;IAClEC,SAAS,EAAC,wBAAwB;IAClCC,eAAe,EAAC,cAAc;IAC9BC,OAAO,EAAEnB,OAAQ;IACjBoB,MAAM,EAAE7B,kBAAmB;IAC3B8B,KAAK,EAAE/B,WAAY;IACnBgC,UAAU,EAAE;MAAElC,iBAAiB;MAAED,MAAM;MAAEE;IAAoB,CAAE;IAC/DkC,UAAU,EAAElB,UAAW;IACvBF,QAAQ,EAAGqB,IAAI,IAAK;MAClB,IAAIA,IAAI,EAAE;QACRrB,QAAQ,CACNJ,KAAK,CAACgB,KAAK,CAACX,KAAK,EACjBF,OAAO,GAAGsB,IAAI,CAACC,GAAG,CAAC,CAAC;UAAErB;QAAM,CAAC,KAAKA,KAAK,CAAC,GAAGoB,IAAI,CAACpB,KAClD,CAAC;MACH,CAAC,MAAM;QACL;QACAD,QAAQ,CAACJ,KAAK,CAACgB,KAAK,CAACX,KAAK,EAAEF,OAAO,GAAG,EAAE,GAAG,EAAE,CAAC;MAChD;IACF,CAAE;IACFA,OAAO,EAAEH,KAAK,CAAC2B,QAAS;IACxBC,WAAW;IACXvB,KAAK,EAAEI,CAAE;IAAAoB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACV,CAAC;AAEN,CAAC;AAEDtC,WAAW,CAACuC,cAAc,GAAG1C,yBAAyB;AACtDG,WAAW,CAACwC,YAAY,GAAG1C,uBAAuB;AAClDE,WAAW,CAACyC,YAAY,GAAG1C,uBAAuB;AAElD,eAAeR,cAAc,CAAC,aAAa,CAAC,CAACS,WAAW,CAAC","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}