{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Blocks/Search/hocs/withQueryString.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getQuerystring } from '@plone/volto/actions/querystring/querystring';\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\n/**\n * A HOC that injects querystring metadata information from the backend.\n *\n */\nexport default function withQueryString(WrappedComponent) {\n  function WithQueryString(props) {\n    const dispatch = useDispatch();\n    const qs = useSelector(state => state.querystring);\n    // This showed up after updating eslint-plugin-react-hooks\n    // TODO: fix it properly\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const indexes = (qs === null || qs === void 0 ? void 0 : qs.indexes) || {};\n    React.useEffect(() => {\n      if (Object.keys(indexes).length === 0) {\n        dispatch(getQuerystring());\n      }\n    }, [dispatch, indexes]);\n    return __jsx(WrappedComponent, _extends({}, props, {\n      querystring: qs,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 12\n      }\n    }));\n  }\n  WithQueryString.displayName = `WithQueryString(${getDisplayName(WrappedComponent)})`;\n  return WithQueryString;\n}","map":{"version":3,"names":["React","useDispatch","useSelector","getQuerystring","getDisplayName","WrappedComponent","displayName","name","withQueryString","WithQueryString","props","dispatch","qs","state","querystring","indexes","useEffect","Object","keys","length","__jsx","_extends","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Blocks/Search/hocs/withQueryString.jsx"],"sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getQuerystring } from '@plone/volto/actions/querystring/querystring';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\n/**\n * A HOC that injects querystring metadata information from the backend.\n *\n */\nexport default function withQueryString(WrappedComponent) {\n  function WithQueryString(props) {\n    const dispatch = useDispatch();\n\n    const qs = useSelector((state) => state.querystring);\n    // This showed up after updating eslint-plugin-react-hooks\n    // TODO: fix it properly\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const indexes = qs?.indexes || {};\n\n    React.useEffect(() => {\n      if (Object.keys(indexes).length === 0) {\n        dispatch(getQuerystring());\n      }\n    }, [dispatch, indexes]);\n\n    return <WrappedComponent {...props} querystring={qs} />;\n  }\n  WithQueryString.displayName = `WithQueryString(${getDisplayName(\n    WrappedComponent,\n  )})`;\n  return WithQueryString;\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,cAAc,QAAQ,8CAA8C;AAE7E,SAASC,cAAcA,CAACC,gBAAgB,EAAE;EACxC,OAAOA,gBAAgB,CAACC,WAAW,IAAID,gBAAgB,CAACE,IAAI,IAAI,WAAW;AAC7E;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAASC,eAAeA,CAACH,gBAAgB,EAAE;EACxD,SAASI,eAAeA,CAACC,KAAK,EAAE;IAC9B,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;IAE9B,MAAMW,EAAE,GAAGV,WAAW,CAAEW,KAAK,IAAKA,KAAK,CAACC,WAAW,CAAC;IACpD;IACA;IACA;IACA,MAAMC,OAAO,GAAG,CAAAH,EAAE,aAAFA,EAAE,uBAAFA,EAAE,CAAEG,OAAO,KAAI,CAAC,CAAC;IAEjCf,KAAK,CAACgB,SAAS,CAAC,MAAM;MACpB,IAAIC,MAAM,CAACC,IAAI,CAACH,OAAO,CAAC,CAACI,MAAM,KAAK,CAAC,EAAE;QACrCR,QAAQ,CAACR,cAAc,CAAC,CAAC,CAAC;MAC5B;IACF,CAAC,EAAE,CAACQ,QAAQ,EAAEI,OAAO,CAAC,CAAC;IAEvB,OAAOK,KAAA,CAACf,gBAAgB,EAAAgB,QAAA,KAAKX,KAAK;MAAEI,WAAW,EAAEF,EAAG;MAAAU,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EAAE,CAAC;EACzD;EACAlB,eAAe,CAACH,WAAW,GAAG,mBAAmBF,cAAc,CAC7DC,gBACF,CAAC,GAAG;EACJ,OAAOI,eAAe;AACxB","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}