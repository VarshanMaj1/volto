{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/theme/FormattedDate/FormattedRelativeDate.jsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React from 'react';\nimport { formatRelativeDate, long_date_format, toDate } from '@plone/volto/helpers/Utils/Date';\nimport { useSelector } from 'react-redux';\nconst FormattedRelativeDate = ({\n  date,\n  style,\n  relativeTo,\n  className,\n  locale,\n  children,\n  live = false,\n  refresh = 5000\n}) => {\n  const language = useSelector(state => locale || state.intl.locale);\n  const [liveRelativeTo, setLiveRelativeTo] = React.useState(relativeTo ? toDate(relativeTo) : new Date());\n  const interval = React.useRef();\n  React.useEffect(() => {\n    if (live) {\n      interval.current = setInterval(() => {\n        setLiveRelativeTo(new Date());\n      }, refresh);\n    }\n    return () => interval.current && clearInterval(interval.current);\n  }, [refresh, live]);\n  const args = {\n    locale: language,\n    date,\n    style,\n    relativeTo: liveRelativeTo\n  };\n  return __jsx(\"time\", {\n    className: className,\n    dateTime: date,\n    title: new Intl.DateTimeFormat(language, long_date_format).format(new Date(date)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, children ? children(formatRelativeDate(_objectSpread(_objectSpread({}, args), {}, {\n    formatToParts: true\n  }))) : formatRelativeDate(args));\n};\nexport default FormattedRelativeDate;","map":{"version":3,"names":["React","formatRelativeDate","long_date_format","toDate","useSelector","FormattedRelativeDate","date","style","relativeTo","className","locale","children","live","refresh","language","state","intl","liveRelativeTo","setLiveRelativeTo","useState","Date","interval","useRef","useEffect","current","setInterval","clearInterval","args","__jsx","dateTime","title","Intl","DateTimeFormat","format","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","_objectSpread","formatToParts"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/theme/FormattedDate/FormattedRelativeDate.jsx"],"sourcesContent":["import React from 'react';\nimport {\n  formatRelativeDate,\n  long_date_format,\n  toDate,\n} from '@plone/volto/helpers/Utils/Date';\nimport { useSelector } from 'react-redux';\n\nconst FormattedRelativeDate = ({\n  date,\n  style,\n  relativeTo,\n  className,\n  locale,\n  children,\n  live = false,\n  refresh = 5000,\n}) => {\n  const language = useSelector((state) => locale || state.intl.locale);\n  const [liveRelativeTo, setLiveRelativeTo] = React.useState(\n    relativeTo ? toDate(relativeTo) : new Date(),\n  );\n\n  const interval = React.useRef();\n\n  React.useEffect(() => {\n    if (live) {\n      interval.current = setInterval(() => {\n        setLiveRelativeTo(new Date());\n      }, refresh);\n    }\n    return () => interval.current && clearInterval(interval.current);\n  }, [refresh, live]);\n\n  const args = { locale: language, date, style, relativeTo: liveRelativeTo };\n\n  return (\n    <time\n      className={className}\n      dateTime={date}\n      title={new Intl.DateTimeFormat(language, long_date_format).format(\n        new Date(date),\n      )}\n    >\n      {children\n        ? children(\n            formatRelativeDate({\n              ...args,\n              formatToParts: true,\n            }),\n          )\n        : formatRelativeDate(args)}\n    </time>\n  );\n};\n\nexport default FormattedRelativeDate;\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,kBAAkB,EAClBC,gBAAgB,EAChBC,MAAM,QACD,iCAAiC;AACxC,SAASC,WAAW,QAAQ,aAAa;AAEzC,MAAMC,qBAAqB,GAAGA,CAAC;EAC7BC,IAAI;EACJC,KAAK;EACLC,UAAU;EACVC,SAAS;EACTC,MAAM;EACNC,QAAQ;EACRC,IAAI,GAAG,KAAK;EACZC,OAAO,GAAG;AACZ,CAAC,KAAK;EACJ,MAAMC,QAAQ,GAAGV,WAAW,CAAEW,KAAK,IAAKL,MAAM,IAAIK,KAAK,CAACC,IAAI,CAACN,MAAM,CAAC;EACpE,MAAM,CAACO,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,KAAK,CAACmB,QAAQ,CACxDX,UAAU,GAAGL,MAAM,CAACK,UAAU,CAAC,GAAG,IAAIY,IAAI,CAAC,CAC7C,CAAC;EAED,MAAMC,QAAQ,GAAGrB,KAAK,CAACsB,MAAM,CAAC,CAAC;EAE/BtB,KAAK,CAACuB,SAAS,CAAC,MAAM;IACpB,IAAIX,IAAI,EAAE;MACRS,QAAQ,CAACG,OAAO,GAAGC,WAAW,CAAC,MAAM;QACnCP,iBAAiB,CAAC,IAAIE,IAAI,CAAC,CAAC,CAAC;MAC/B,CAAC,EAAEP,OAAO,CAAC;IACb;IACA,OAAO,MAAMQ,QAAQ,CAACG,OAAO,IAAIE,aAAa,CAACL,QAAQ,CAACG,OAAO,CAAC;EAClE,CAAC,EAAE,CAACX,OAAO,EAAED,IAAI,CAAC,CAAC;EAEnB,MAAMe,IAAI,GAAG;IAAEjB,MAAM,EAAEI,QAAQ;IAAER,IAAI;IAAEC,KAAK;IAAEC,UAAU,EAAES;EAAe,CAAC;EAE1E,OACEW,KAAA;IACEnB,SAAS,EAAEA,SAAU;IACrBoB,QAAQ,EAAEvB,IAAK;IACfwB,KAAK,EAAE,IAAIC,IAAI,CAACC,cAAc,CAAClB,QAAQ,EAAEZ,gBAAgB,CAAC,CAAC+B,MAAM,CAC/D,IAAIb,IAAI,CAACd,IAAI,CACf,CAAE;IAAA4B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAED5B,QAAQ,GACLA,QAAQ,CACNV,kBAAkB,CAAAuC,aAAA,CAAAA,aAAA,KACbb,IAAI;IACPc,aAAa,EAAE;EAAI,EACpB,CACH,CAAC,GACDxC,kBAAkB,CAAC0B,IAAI,CACvB,CAAC;AAEX,CAAC;AAED,eAAetB,qBAAqB","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}