{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/theme/View/LinkView.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { isInternalURL, flattenToAppURL } from '@plone/volto/helpers/Url/Url';\nimport { Container as SemanticContainer } from 'semantic-ui-react';\nimport UniversalLink from '@plone/volto/components/manage/UniversalLink/UniversalLink';\nimport { Redirect } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport config from '@plone/volto/registry';\nconst LinkView = ({\n  token,\n  content\n}) => {\n  const history = useHistory();\n  useEffect(() => {\n    if (!token) {\n      const {\n        remoteUrl\n      } = content;\n      if (isInternalURL(remoteUrl)) {\n        history.replace(flattenToAppURL(remoteUrl));\n      } else if (!__SERVER__) {\n        window.location.href = flattenToAppURL(remoteUrl);\n      }\n    }\n  }, [content, history, token]);\n  if (__SERVER__ && !token && content.remoteUrl) {\n    return __jsx(Redirect, {\n      to: content.remoteUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 12\n      }\n    });\n  }\n  const {\n    title,\n    description,\n    remoteUrl\n  } = content;\n  const {\n    openExternalLinkInNewTab\n  } = config.settings;\n  const Container = config.getComponent({\n    name: 'Container'\n  }).component || SemanticContainer;\n  return __jsx(Container, {\n    id: \"page-document\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(\"h1\", {\n    className: \"documentFirstHeading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, title), content.description && __jsx(\"p\", {\n    className: \"documentDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, description), remoteUrl && __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(FormattedMessage, {\n    id: \"The link address is:\",\n    defaultMessage: \"The link address is:\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }), ' ', __jsx(UniversalLink, {\n    href: remoteUrl,\n    openLinkInNewTab: openExternalLinkInNewTab && !isInternalURL(remoteUrl),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, flattenToAppURL(remoteUrl))));\n};\nLinkView.propTypes = {\n  content: PropTypes.shape({\n    title: PropTypes.string,\n    description: PropTypes.string,\n    remoteUrl: PropTypes.string\n  }),\n  token: PropTypes.string\n};\nLinkView.defaultProps = {\n  content: null,\n  token: null\n};\nexport default LinkView;","map":{"version":3,"names":["useEffect","PropTypes","useHistory","isInternalURL","flattenToAppURL","Container","SemanticContainer","UniversalLink","Redirect","FormattedMessage","config","LinkView","token","content","history","remoteUrl","replace","__SERVER__","window","location","href","__jsx","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","description","openExternalLinkInNewTab","settings","getComponent","name","component","id","className","defaultMessage","openLinkInNewTab","propTypes","shape","string","defaultProps"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/theme/View/LinkView.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { isInternalURL, flattenToAppURL } from '@plone/volto/helpers/Url/Url';\nimport { Container as SemanticContainer } from 'semantic-ui-react';\nimport UniversalLink from '@plone/volto/components/manage/UniversalLink/UniversalLink';\nimport { Redirect } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport config from '@plone/volto/registry';\n\nconst LinkView = ({ token, content }) => {\n  const history = useHistory();\n  useEffect(() => {\n    if (!token) {\n      const { remoteUrl } = content;\n      if (isInternalURL(remoteUrl)) {\n        history.replace(flattenToAppURL(remoteUrl));\n      } else if (!__SERVER__) {\n        window.location.href = flattenToAppURL(remoteUrl);\n      }\n    }\n  }, [content, history, token]);\n  if (__SERVER__ && !token && content.remoteUrl) {\n    return <Redirect to={content.remoteUrl} />;\n  }\n  const { title, description, remoteUrl } = content;\n  const { openExternalLinkInNewTab } = config.settings;\n  const Container =\n    config.getComponent({ name: 'Container' }).component || SemanticContainer;\n\n  return (\n    <Container id=\"page-document\">\n      <h1 className=\"documentFirstHeading\">{title}</h1>\n      {content.description && (\n        <p className=\"documentDescription\">{description}</p>\n      )}\n      {remoteUrl && (\n        <p>\n          <FormattedMessage\n            id=\"The link address is:\"\n            defaultMessage=\"The link address is:\"\n          />{' '}\n          <UniversalLink\n            href={remoteUrl}\n            openLinkInNewTab={\n              openExternalLinkInNewTab && !isInternalURL(remoteUrl)\n            }\n          >\n            {flattenToAppURL(remoteUrl)}\n          </UniversalLink>\n        </p>\n      )}\n    </Container>\n  );\n};\n\nLinkView.propTypes = {\n  content: PropTypes.shape({\n    title: PropTypes.string,\n    description: PropTypes.string,\n    remoteUrl: PropTypes.string,\n  }),\n  token: PropTypes.string,\n};\n\nLinkView.defaultProps = {\n  content: null,\n  token: null,\n};\n\nexport default LinkView;\n"],"mappings":"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","ignoreList":[]},"metadata":{"react-intl":{"messages":[{"id":"The link address is:","defaultMessage":"The link address is:"}]}},"sourceType":"module","externalDependencies":[]}