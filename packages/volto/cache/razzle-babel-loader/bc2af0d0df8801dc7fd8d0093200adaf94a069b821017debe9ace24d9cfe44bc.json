{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto-slate/src/editor/ui/PositionedToolbar.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { createPortal } from 'react-dom';\nimport BasicToolbar from './BasicToolbar';\nconst PositionedToolbar = ({\n  toggleButton,\n  className,\n  children,\n  position\n}) => {\n  // TODO: \"position\" is actually an object like `{ style: {} }`\n  // To be renamed as \"attributes\" or \"attrs\"\n  const ref = React.useRef();\n  const portalTarget = toggleButton || document.body;\n  React.useEffect(() => {\n    const el = ref.current;\n    const {\n      style\n    } = position || {};\n    // allow negative left positioning when portal isn't document.body\n    // we need to use Math.max to avoid Slate AddLink popup going off screen\n    // and it adds the toolbar to the body\n    const left = portalTarget === document.body ? `${Math.max(style.left - el.offsetWidth / 2, 0)}px` : `${style.left - el.offsetWidth / 2}px`;\n    const top = `${style.top - el.offsetHeight}px`;\n    el.style.opacity = style.opacity;\n    el.style.top = top;\n    el.style.left = left;\n  });\n  return /*#__PURE__*/createPortal(__jsx(BasicToolbar, {\n    className: `slate-inline-toolbar ${className}`,\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, children), portalTarget);\n};\nexport default PositionedToolbar;","map":{"version":3,"names":["React","createPortal","BasicToolbar","PositionedToolbar","toggleButton","className","children","position","ref","useRef","portalTarget","document","body","useEffect","el","current","style","left","Math","max","offsetWidth","top","offsetHeight","opacity","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto-slate/src/editor/ui/PositionedToolbar.jsx"],"sourcesContent":["import React from 'react';\nimport { createPortal } from 'react-dom';\n\nimport BasicToolbar from './BasicToolbar';\n\nconst PositionedToolbar = ({ toggleButton, className, children, position }) => {\n  // TODO: \"position\" is actually an object like `{ style: {} }`\n  // To be renamed as \"attributes\" or \"attrs\"\n  const ref = React.useRef();\n  const portalTarget = toggleButton || document.body;\n\n  React.useEffect(() => {\n    const el = ref.current;\n\n    const { style } = position || {};\n    // allow negative left positioning when portal isn't document.body\n    // we need to use Math.max to avoid Slate AddLink popup going off screen\n    // and it adds the toolbar to the body\n    const left =\n      portalTarget === document.body\n        ? `${Math.max(style.left - el.offsetWidth / 2, 0)}px`\n        : `${style.left - el.offsetWidth / 2}px`;\n    const top = `${style.top - el.offsetHeight}px`;\n\n    el.style.opacity = style.opacity;\n    el.style.top = top;\n    el.style.left = left;\n  });\n\n  return createPortal(\n    <BasicToolbar className={`slate-inline-toolbar ${className}`} ref={ref}>\n      {children}\n    </BasicToolbar>,\n    portalTarget,\n  );\n};\n\nexport default PositionedToolbar;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,WAAW;AAExC,OAAOC,YAAY,MAAM,gBAAgB;AAEzC,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,YAAY;EAAEC,SAAS;EAAEC,QAAQ;EAAEC;AAAS,CAAC,KAAK;EAC7E;EACA;EACA,MAAMC,GAAG,GAAGR,KAAK,CAACS,MAAM,CAAC,CAAC;EAC1B,MAAMC,YAAY,GAAGN,YAAY,IAAIO,QAAQ,CAACC,IAAI;EAElDZ,KAAK,CAACa,SAAS,CAAC,MAAM;IACpB,MAAMC,EAAE,GAAGN,GAAG,CAACO,OAAO;IAEtB,MAAM;MAAEC;IAAM,CAAC,GAAGT,QAAQ,IAAI,CAAC,CAAC;IAChC;IACA;IACA;IACA,MAAMU,IAAI,GACRP,YAAY,KAAKC,QAAQ,CAACC,IAAI,GAC1B,GAAGM,IAAI,CAACC,GAAG,CAACH,KAAK,CAACC,IAAI,GAAGH,EAAE,CAACM,WAAW,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,GACnD,GAAGJ,KAAK,CAACC,IAAI,GAAGH,EAAE,CAACM,WAAW,GAAG,CAAC,IAAI;IAC5C,MAAMC,GAAG,GAAG,GAAGL,KAAK,CAACK,GAAG,GAAGP,EAAE,CAACQ,YAAY,IAAI;IAE9CR,EAAE,CAACE,KAAK,CAACO,OAAO,GAAGP,KAAK,CAACO,OAAO;IAChCT,EAAE,CAACE,KAAK,CAACK,GAAG,GAAGA,GAAG;IAClBP,EAAE,CAACE,KAAK,CAACC,IAAI,GAAGA,IAAI;EACtB,CAAC,CAAC;EAEF,oBAAOhB,YAAY,CACjBuB,KAAA,CAACtB,YAAY;IAACG,SAAS,EAAE,wBAAwBA,SAAS,EAAG;IAACG,GAAG,EAAEA,GAAI;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACpExB,QACW,CAAC,EACfI,YACF,CAAC;AACH,CAAC;AAED,eAAeP,iBAAiB","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}