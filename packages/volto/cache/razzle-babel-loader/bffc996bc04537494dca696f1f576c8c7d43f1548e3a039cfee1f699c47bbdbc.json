{"ast":null,"code":"import { defineMessages } from 'react-intl';\nimport config from '@plone/volto/registry';\nconst messages = defineMessages({\n  listing: {\n    \"id\": \"Listing\",\n    \"defaultMessage\": \"Listing\"\n  },\n  querystring: {\n    \"id\": \"Query\",\n    \"defaultMessage\": \"Query\"\n  },\n  more: {\n    \"id\": \"Link more\",\n    \"defaultMessage\": \"Link more\"\n  },\n  LinkTitle: {\n    \"id\": \"Link title\",\n    \"defaultMessage\": \"Link Title\"\n  },\n  LinkTo: {\n    \"id\": \"Link to\",\n    \"defaultMessage\": \"Link to\"\n  },\n  headline: {\n    \"id\": \"Headline\",\n    \"defaultMessage\": \"Headline\"\n  },\n  headlineTag: {\n    \"id\": \"Headline level\",\n    \"defaultMessage\": \"Headline level\"\n  }\n});\nconst DEFAULT_HEADLINE_LEVELS = [['h2', 'h2'], ['h3', 'h3']];\nexport const schemaListing = props => {\n  var _config$blocks, _config$blocks$blocks, _config$blocks$blocks2;\n  const {\n    intl\n  } = props;\n  const allowed_headline_tags = ((_config$blocks = config.blocks) === null || _config$blocks === void 0 ? void 0 : (_config$blocks$blocks = _config$blocks.blocksConfig) === null || _config$blocks$blocks === void 0 ? void 0 : (_config$blocks$blocks2 = _config$blocks$blocks.listing) === null || _config$blocks$blocks2 === void 0 ? void 0 : _config$blocks$blocks2.allowed_headline_tags) || DEFAULT_HEADLINE_LEVELS;\n  return {\n    title: intl.formatMessage(messages.listing),\n    fieldsets: [{\n      id: 'default',\n      title: 'Default',\n      fields: ['headline', ...(allowed_headline_tags.length > 1 ? ['headlineTag'] : []), 'querystring']\n    }, ...(config.blocks.blocksConfig.listing.showLinkMore ? [{\n      id: 'linkmore',\n      title: intl.formatMessage(messages.more),\n      fields: ['linkTitle', 'linkHref']\n    }] : [])],\n    properties: {\n      headline: {\n        title: intl.formatMessage(messages.headline)\n      },\n      headlineTag: {\n        title: intl.formatMessage(messages.headlineTag),\n        choices: allowed_headline_tags,\n        default: 'h2',\n        noValueOption: false\n      },\n      querystring: {\n        title: intl.formatMessage(messages.querystring),\n        widget: 'querystring'\n      },\n      linkTitle: {\n        title: intl.formatMessage(messages.LinkTitle)\n      },\n      linkHref: {\n        title: intl.formatMessage(messages.LinkTo),\n        widget: 'object_browser',\n        mode: 'link',\n        selectedItemAttrs: ['Title', 'Description'],\n        allowExternals: true\n      }\n    },\n    required: []\n  };\n};\nexport default schemaListing;","map":{"version":3,"names":["defineMessages","config","messages","listing","querystring","more","LinkTitle","LinkTo","headline","headlineTag","DEFAULT_HEADLINE_LEVELS","schemaListing","props","_config$blocks","_config$blocks$blocks","_config$blocks$blocks2","intl","allowed_headline_tags","blocks","blocksConfig","title","formatMessage","fieldsets","id","fields","length","showLinkMore","properties","choices","default","noValueOption","widget","linkTitle","linkHref","mode","selectedItemAttrs","allowExternals","required"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Blocks/Listing/schema.js"],"sourcesContent":["import { defineMessages } from 'react-intl';\nimport config from '@plone/volto/registry';\n\nconst messages = defineMessages({\n  listing: {\n    id: 'Listing',\n    defaultMessage: 'Listing',\n  },\n  querystring: {\n    id: 'Query',\n    defaultMessage: 'Query',\n  },\n  more: {\n    id: 'Link more',\n    defaultMessage: 'Link more',\n  },\n  LinkTitle: {\n    id: 'Link title',\n    defaultMessage: 'Link Title',\n  },\n  LinkTo: {\n    id: 'Link to',\n    defaultMessage: 'Link to',\n  },\n  headline: {\n    id: 'Headline',\n    defaultMessage: 'Headline',\n  },\n  headlineTag: {\n    id: 'Headline level',\n    defaultMessage: 'Headline level',\n  },\n});\n\nconst DEFAULT_HEADLINE_LEVELS = [\n  ['h2', 'h2'],\n  ['h3', 'h3'],\n];\n\nexport const schemaListing = (props) => {\n  const { intl } = props;\n  const allowed_headline_tags =\n    config.blocks?.blocksConfig?.listing?.allowed_headline_tags ||\n    DEFAULT_HEADLINE_LEVELS;\n\n  return {\n    title: intl.formatMessage(messages.listing),\n    fieldsets: [\n      {\n        id: 'default',\n        title: 'Default',\n        fields: [\n          'headline',\n          ...(allowed_headline_tags.length > 1 ? ['headlineTag'] : []),\n          'querystring',\n        ],\n      },\n      ...(config.blocks.blocksConfig.listing.showLinkMore\n        ? [\n            {\n              id: 'linkmore',\n              title: intl.formatMessage(messages.more),\n              fields: ['linkTitle', 'linkHref'],\n            },\n          ]\n        : []),\n    ],\n\n    properties: {\n      headline: {\n        title: intl.formatMessage(messages.headline),\n      },\n      headlineTag: {\n        title: intl.formatMessage(messages.headlineTag),\n        choices: allowed_headline_tags,\n        default: 'h2',\n        noValueOption: false,\n      },\n      querystring: {\n        title: intl.formatMessage(messages.querystring),\n        widget: 'querystring',\n      },\n      linkTitle: {\n        title: intl.formatMessage(messages.LinkTitle),\n      },\n      linkHref: {\n        title: intl.formatMessage(messages.LinkTo),\n        widget: 'object_browser',\n        mode: 'link',\n        selectedItemAttrs: ['Title', 'Description'],\n        allowExternals: true,\n      },\n    },\n    required: [],\n  };\n};\n\nexport default schemaListing;\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,YAAY;AAC3C,OAAOC,MAAM,MAAM,uBAAuB;AAE1C,MAAMC,QAAQ,GAAGF,cAAc,CAAC;EAC9BG,OAAO;IAAA;IAAA;EAAA,CAGN;EACDC,WAAW;IAAA;IAAA;EAAA,CAGV;EACDC,IAAI;IAAA;IAAA;EAAA,CAGH;EACDC,SAAS;IAAA;IAAA;EAAA,CAGR;EACDC,MAAM;IAAA;IAAA;EAAA,CAGL;EACDC,QAAQ;IAAA;IAAA;EAAA,CAGP;EACDC,WAAW;IAAA;IAAA;EAAA;AAIb,CAAC,CAAC;AAEF,MAAMC,uBAAuB,GAAG,CAC9B,CAAC,IAAI,EAAE,IAAI,CAAC,EACZ,CAAC,IAAI,EAAE,IAAI,CAAC,CACb;AAED,OAAO,MAAMC,aAAa,GAAIC,KAAK,IAAK;EAAA,IAAAC,cAAA,EAAAC,qBAAA,EAAAC,sBAAA;EACtC,MAAM;IAAEC;EAAK,CAAC,GAAGJ,KAAK;EACtB,MAAMK,qBAAqB,GACzB,EAAAJ,cAAA,GAAAZ,MAAM,CAACiB,MAAM,cAAAL,cAAA,wBAAAC,qBAAA,GAAbD,cAAA,CAAeM,YAAY,cAAAL,qBAAA,wBAAAC,sBAAA,GAA3BD,qBAAA,CAA6BX,OAAO,cAAAY,sBAAA,uBAApCA,sBAAA,CAAsCE,qBAAqB,KAC3DP,uBAAuB;EAEzB,OAAO;IACLU,KAAK,EAAEJ,IAAI,CAACK,aAAa,CAACnB,QAAQ,CAACC,OAAO,CAAC;IAC3CmB,SAAS,EAAE,CACT;MACEC,EAAE,EAAE,SAAS;MACbH,KAAK,EAAE,SAAS;MAChBI,MAAM,EAAE,CACN,UAAU,EACV,IAAIP,qBAAqB,CAACQ,MAAM,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,EAC5D,aAAa;IAEjB,CAAC,EACD,IAAIxB,MAAM,CAACiB,MAAM,CAACC,YAAY,CAAChB,OAAO,CAACuB,YAAY,GAC/C,CACE;MACEH,EAAE,EAAE,UAAU;MACdH,KAAK,EAAEJ,IAAI,CAACK,aAAa,CAACnB,QAAQ,CAACG,IAAI,CAAC;MACxCmB,MAAM,EAAE,CAAC,WAAW,EAAE,UAAU;IAClC,CAAC,CACF,GACD,EAAE,CAAC,CACR;IAEDG,UAAU,EAAE;MACVnB,QAAQ,EAAE;QACRY,KAAK,EAAEJ,IAAI,CAACK,aAAa,CAACnB,QAAQ,CAACM,QAAQ;MAC7C,CAAC;MACDC,WAAW,EAAE;QACXW,KAAK,EAAEJ,IAAI,CAACK,aAAa,CAACnB,QAAQ,CAACO,WAAW,CAAC;QAC/CmB,OAAO,EAAEX,qBAAqB;QAC9BY,OAAO,EAAE,IAAI;QACbC,aAAa,EAAE;MACjB,CAAC;MACD1B,WAAW,EAAE;QACXgB,KAAK,EAAEJ,IAAI,CAACK,aAAa,CAACnB,QAAQ,CAACE,WAAW,CAAC;QAC/C2B,MAAM,EAAE;MACV,CAAC;MACDC,SAAS,EAAE;QACTZ,KAAK,EAAEJ,IAAI,CAACK,aAAa,CAACnB,QAAQ,CAACI,SAAS;MAC9C,CAAC;MACD2B,QAAQ,EAAE;QACRb,KAAK,EAAEJ,IAAI,CAACK,aAAa,CAACnB,QAAQ,CAACK,MAAM,CAAC;QAC1CwB,MAAM,EAAE,gBAAgB;QACxBG,IAAI,EAAE,MAAM;QACZC,iBAAiB,EAAE,CAAC,OAAO,EAAE,aAAa,CAAC;QAC3CC,cAAc,EAAE;MAClB;IACF,CAAC;IACDC,QAAQ,EAAE;EACZ,CAAC;AACH,CAAC;AAED,eAAe1B,aAAa","ignoreList":[]},"metadata":{"react-intl":{"messages":[{"id":"Listing","defaultMessage":"Listing"},{"id":"Query","defaultMessage":"Query"},{"id":"Link more","defaultMessage":"Link more"},{"id":"Link title","defaultMessage":"Link Title"},{"id":"Link to","defaultMessage":"Link to"},{"id":"Headline","defaultMessage":"Headline"},{"id":"Headline level","defaultMessage":"Headline level"}]}},"sourceType":"module","externalDependencies":[]}