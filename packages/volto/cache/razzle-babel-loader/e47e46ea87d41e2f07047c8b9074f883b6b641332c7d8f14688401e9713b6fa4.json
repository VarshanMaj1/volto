{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/theme/FormattedDate/FormattedDate.jsx\";\nvar __jsx = React.createElement;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React from 'react';\nimport { formatDate, long_date_format } from '@plone/volto/helpers/Utils/Date';\nimport { useSelector } from 'react-redux';\n\n/**\n * Friendly formatting of dates\n */\nconst FormattedDate = ({\n  date,\n  format,\n  long,\n  includeTime,\n  relative,\n  className,\n  locale,\n  children\n}) => {\n  const language = useSelector(state => locale || state.intl.locale);\n  const toDate = d => typeof d === 'string' ? new Date(d) : d;\n  const args = {\n    date,\n    long,\n    includeTime,\n    format,\n    locale: language\n  };\n  const new_date = new Date(toDate(date));\n  // Dat check taken from https://stackoverflow.com/questions/1353684/detecting-an-invalid-date-date-instance-in-javascript#1353711\n  if (Object.prototype.toString.call(new_date) === '[object Date]') {\n    // it is a date\n    if (isNaN(new_date)) {\n      // date object is not valid\n      return __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 14\n        }\n      }, \"bad date\");\n    }\n  } else {\n    // not a date object\n    return __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 12\n      }\n    }, \"not a date\");\n  }\n  return __jsx(\"time\", {\n    className: className,\n    dateTime: date,\n    title: new Intl.DateTimeFormat(language, long_date_format).format(new_date).replace('\\u202F', ' '),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, children ? children(formatDate(_objectSpread(_objectSpread({}, args), {}, {\n    formatToParts: true\n  }))) : formatDate(args));\n};\nexport default FormattedDate;","map":{"version":3,"names":["React","formatDate","long_date_format","useSelector","FormattedDate","date","format","long","includeTime","relative","className","locale","children","language","state","intl","toDate","d","Date","args","new_date","Object","prototype","toString","call","isNaN","__jsx","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","dateTime","title","Intl","DateTimeFormat","replace","_objectSpread","formatToParts"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/theme/FormattedDate/FormattedDate.jsx"],"sourcesContent":["import React from 'react';\nimport { formatDate, long_date_format } from '@plone/volto/helpers/Utils/Date';\nimport { useSelector } from 'react-redux';\n\n/**\n * Friendly formatting of dates\n */\nconst FormattedDate = ({\n  date,\n  format,\n  long,\n  includeTime,\n  relative,\n  className,\n  locale,\n  children,\n}) => {\n  const language = useSelector((state) => locale || state.intl.locale);\n  const toDate = (d) => (typeof d === 'string' ? new Date(d) : d);\n  const args = { date, long, includeTime, format, locale: language };\n  const new_date = new Date(toDate(date));\n  // Dat check taken from https://stackoverflow.com/questions/1353684/detecting-an-invalid-date-date-instance-in-javascript#1353711\n  if (Object.prototype.toString.call(new_date) === '[object Date]') {\n    // it is a date\n    if (isNaN(new_date)) {\n      // date object is not valid\n      return <span>bad date</span>;\n    }\n  } else {\n    // not a date object\n    return <span>not a date</span>;\n  }\n\n  return (\n    <time\n      className={className}\n      dateTime={date}\n      title={new Intl.DateTimeFormat(language, long_date_format)\n        .format(new_date)\n        .replace('\\u202F', ' ')}\n    >\n      {children\n        ? children(\n            formatDate({\n              ...args,\n              formatToParts: true,\n            }),\n          )\n        : formatDate(args)}\n    </time>\n  );\n};\n\nexport default FormattedDate;\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,EAAEC,gBAAgB,QAAQ,iCAAiC;AAC9E,SAASC,WAAW,QAAQ,aAAa;;AAEzC;AACA;AACA;AACA,MAAMC,aAAa,GAAGA,CAAC;EACrBC,IAAI;EACJC,MAAM;EACNC,IAAI;EACJC,WAAW;EACXC,QAAQ;EACRC,SAAS;EACTC,MAAM;EACNC;AACF,CAAC,KAAK;EACJ,MAAMC,QAAQ,GAAGV,WAAW,CAAEW,KAAK,IAAKH,MAAM,IAAIG,KAAK,CAACC,IAAI,CAACJ,MAAM,CAAC;EACpE,MAAMK,MAAM,GAAIC,CAAC,IAAM,OAAOA,CAAC,KAAK,QAAQ,GAAG,IAAIC,IAAI,CAACD,CAAC,CAAC,GAAGA,CAAE;EAC/D,MAAME,IAAI,GAAG;IAAEd,IAAI;IAAEE,IAAI;IAAEC,WAAW;IAAEF,MAAM;IAAEK,MAAM,EAAEE;EAAS,CAAC;EAClE,MAAMO,QAAQ,GAAG,IAAIF,IAAI,CAACF,MAAM,CAACX,IAAI,CAAC,CAAC;EACvC;EACA,IAAIgB,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACJ,QAAQ,CAAC,KAAK,eAAe,EAAE;IAChE;IACA,IAAIK,KAAK,CAACL,QAAQ,CAAC,EAAE;MACnB;MACA,OAAOM,KAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAM,UAAc,CAAC;IAC9B;EACF,CAAC,MAAM;IACL;IACA,OAAON,KAAA;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAM,YAAgB,CAAC;EAChC;EAEA,OACEN,KAAA;IACEhB,SAAS,EAAEA,SAAU;IACrBuB,QAAQ,EAAE5B,IAAK;IACf6B,KAAK,EAAE,IAAIC,IAAI,CAACC,cAAc,CAACvB,QAAQ,EAAEX,gBAAgB,CAAC,CACvDI,MAAM,CAACc,QAAQ,CAAC,CAChBiB,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAE;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEzBpB,QAAQ,GACLA,QAAQ,CACNX,UAAU,CAAAqC,aAAA,CAAAA,aAAA,KACLnB,IAAI;IACPoB,aAAa,EAAE;EAAI,EACpB,CACH,CAAC,GACDtC,UAAU,CAACkB,IAAI,CACf,CAAC;AAEX,CAAC;AAED,eAAef,aAAa","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}