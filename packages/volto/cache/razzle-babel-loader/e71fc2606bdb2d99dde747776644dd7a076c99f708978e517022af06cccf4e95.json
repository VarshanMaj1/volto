{"ast":null,"code":"import _defineProperty from \"/Users/varshanmaji/Projects/volto/node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport config from '@plone/volto/registry';\n\n/**\n *\n *\n * @class ScrollToTop\n * @extends {Component}\n */\nclass ScrollToTop extends React.Component {\n  /**\n   * @param {*} prevProps Previous Props\n   * @returns {null} Null\n   * @memberof ScrollToTop\n   */\n  componentDidUpdate(prevProps) {\n    var _config$blocks, _this$props$location, _prevProps$location;\n    const {\n      location\n    } = this.props;\n    const noInitialBlocksFocus =\n    // Do not scroll on /edit\n    ((_config$blocks = config.blocks) === null || _config$blocks === void 0 ? void 0 : _config$blocks.initialBlocksFocus) === null ? ((_this$props$location = this.props.location) === null || _this$props$location === void 0 ? void 0 : _this$props$location.pathname.slice(-5)) !== '/edit' : true;\n    const isHash = (location === null || location === void 0 ? void 0 : location.hash) || (location === null || location === void 0 ? void 0 : location.pathname.hash);\n    if (!isHash && prevProps.location !== undefined && noInitialBlocksFocus && (location === null || location === void 0 ? void 0 : location.pathname) !== ((_prevProps$location = prevProps.location) === null || _prevProps$location === void 0 ? void 0 : _prevProps$location.pathname)) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  /**\n   * @returns {node} Children\n   * @memberof ScrollToTop\n   */\n  render() {\n    return this.props.children;\n  }\n}\n/**\n * Property types.\n * @property {Object} propTypes Property types.\n * @static\n */\n_defineProperty(ScrollToTop, \"propTypes\", {\n  location: PropTypes.shape({\n    pathname: PropTypes.string\n  }),\n  children: PropTypes.node.isRequired\n});\nexport default connect((state, props) => ({\n  location: state.loadProtector.location\n}), {})(ScrollToTop);","map":{"version":3,"names":["React","PropTypes","connect","config","ScrollToTop","Component","componentDidUpdate","prevProps","_config$blocks","_this$props$location","_prevProps$location","location","props","noInitialBlocksFocus","blocks","initialBlocksFocus","pathname","slice","isHash","hash","undefined","window","scrollTo","render","children","_defineProperty","shape","string","node","isRequired","state","loadProtector"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/helpers/ScrollToTop/ScrollToTop.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport config from '@plone/volto/registry';\n\n/**\n *\n *\n * @class ScrollToTop\n * @extends {Component}\n */\nclass ScrollToTop extends React.Component {\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n  static propTypes = {\n    location: PropTypes.shape({\n      pathname: PropTypes.string,\n    }),\n    children: PropTypes.node.isRequired,\n  };\n\n  /**\n   * @param {*} prevProps Previous Props\n   * @returns {null} Null\n   * @memberof ScrollToTop\n   */\n  componentDidUpdate(prevProps) {\n    const { location } = this.props;\n    const noInitialBlocksFocus = // Do not scroll on /edit\n      config.blocks?.initialBlocksFocus === null\n        ? this.props.location?.pathname.slice(-5) !== '/edit'\n        : true;\n\n    const isHash = location?.hash || location?.pathname.hash;\n    if (\n      !isHash &&\n      prevProps.location !== undefined &&\n      noInitialBlocksFocus &&\n      location?.pathname !== prevProps.location?.pathname\n    ) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  /**\n   * @returns {node} Children\n   * @memberof ScrollToTop\n   */\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default connect(\n  (state, props) => ({\n    location: state.loadProtector.location,\n  }),\n  {},\n)(ScrollToTop);\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAOC,MAAM,MAAM,uBAAuB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,SAASJ,KAAK,CAACK,SAAS,CAAC;EAaxC;AACF;AACA;AACA;AACA;EACEC,kBAAkBA,CAACC,SAAS,EAAE;IAAA,IAAAC,cAAA,EAAAC,oBAAA,EAAAC,mBAAA;IAC5B,MAAM;MAAEC;IAAS,CAAC,GAAG,IAAI,CAACC,KAAK;IAC/B,MAAMC,oBAAoB;IAAG;IAC3B,EAAAL,cAAA,GAAAL,MAAM,CAACW,MAAM,cAAAN,cAAA,uBAAbA,cAAA,CAAeO,kBAAkB,MAAK,IAAI,GACtC,EAAAN,oBAAA,OAAI,CAACG,KAAK,CAACD,QAAQ,cAAAF,oBAAA,uBAAnBA,oBAAA,CAAqBO,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAK,OAAO,GACnD,IAAI;IAEV,MAAMC,MAAM,GAAG,CAAAP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,IAAI,MAAIR,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,QAAQ,CAACG,IAAI;IACxD,IACE,CAACD,MAAM,IACPX,SAAS,CAACI,QAAQ,KAAKS,SAAS,IAChCP,oBAAoB,IACpB,CAAAF,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,QAAQ,QAAAN,mBAAA,GAAKH,SAAS,CAACI,QAAQ,cAAAD,mBAAA,uBAAlBA,mBAAA,CAAoBM,QAAQ,GACnD;MACAK,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IACvB;EACF;;EAEA;AACF;AACA;AACA;EACEC,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACX,KAAK,CAACY,QAAQ;EAC5B;AACF;AA1CE;AACF;AACA;AACA;AACA;AAJEC,eAAA,CADIrB,WAAW,eAMI;EACjBO,QAAQ,EAAEV,SAAS,CAACyB,KAAK,CAAC;IACxBV,QAAQ,EAAEf,SAAS,CAAC0B;EACtB,CAAC,CAAC;EACFH,QAAQ,EAAEvB,SAAS,CAAC2B,IAAI,CAACC;AAC3B,CAAC;AAkCH,eAAe3B,OAAO,CACpB,CAAC4B,KAAK,EAAElB,KAAK,MAAM;EACjBD,QAAQ,EAAEmB,KAAK,CAACC,aAAa,CAACpB;AAChC,CAAC,CAAC,EACF,CAAC,CACH,CAAC,CAACP,WAAW,CAAC","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}