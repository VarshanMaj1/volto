{"ast":null,"code":"function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * Upload reducer.\n * @module reducers/content\n *\n * Customized copy of Volto's content reducer\n */\n\nimport config from '@plone/volto/registry';\nimport { UPLOAD_CONTENT } from '@plone/volto-slate/constants';\nconst initialState = {};\n\n/**\n * Content reducer.\n * @function content\n * @param {Object} state Current state.\n * @param {Object} action Action to be handled.\n * @returns {Object} New state.\n */\nexport default function upload_content(state = initialState, action = {}) {\n  let {\n    result,\n    origin\n  } = action;\n  switch (action.type) {\n    case `${UPLOAD_CONTENT}_PENDING`:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        [origin]: _objectSpread(_objectSpread({}, state[origin]), {}, {\n          upload: {\n            loading: true,\n            loaded: false,\n            error: null\n          }\n        })\n      });\n    case `${UPLOAD_CONTENT}_SUCCESS`:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        [origin]: _objectSpread(_objectSpread({}, state[origin]), {}, {\n          data: _objectSpread(_objectSpread({}, result), {}, {\n            items: action.result && action.result.items && action.result.items.map(item => _objectSpread(_objectSpread({}, item), {}, {\n              url: item['@id'].replace(config.settings.apiPath, '')\n            }))\n          }),\n          upload: {\n            loading: false,\n            loaded: true,\n            error: null\n          }\n        })\n      });\n    case `${UPLOAD_CONTENT}_FAIL`:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        [origin]: _objectSpread(_objectSpread({}, state[origin]), {}, {\n          data: null,\n          upload: {\n            loading: false,\n            loaded: false,\n            error: action.error\n          }\n        })\n      });\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["config","UPLOAD_CONTENT","initialState","upload_content","state","action","result","origin","type","_objectSpread","upload","loading","loaded","error","data","items","map","item","url","replace","settings","apiPath"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto-slate/src/reducers/content.js"],"sourcesContent":["/**\n * Upload reducer.\n * @module reducers/content\n *\n * Customized copy of Volto's content reducer\n */\n\nimport config from '@plone/volto/registry';\n\nimport { UPLOAD_CONTENT } from '@plone/volto-slate/constants';\n\nconst initialState = {};\n\n/**\n * Content reducer.\n * @function content\n * @param {Object} state Current state.\n * @param {Object} action Action to be handled.\n * @returns {Object} New state.\n */\nexport default function upload_content(state = initialState, action = {}) {\n  let { result, origin } = action;\n  switch (action.type) {\n    case `${UPLOAD_CONTENT}_PENDING`:\n      return {\n        ...state,\n        [origin]: {\n          ...state[origin],\n          upload: {\n            loading: true,\n            loaded: false,\n            error: null,\n          },\n        },\n      };\n    case `${UPLOAD_CONTENT}_SUCCESS`:\n      return {\n        ...state,\n        [origin]: {\n          ...state[origin],\n          data: {\n            ...result,\n            items:\n              action.result &&\n              action.result.items &&\n              action.result.items.map((item) => ({\n                ...item,\n                url: item['@id'].replace(config.settings.apiPath, ''),\n              })),\n          },\n          upload: {\n            loading: false,\n            loaded: true,\n            error: null,\n          },\n        },\n      };\n    case `${UPLOAD_CONTENT}_FAIL`:\n      return {\n        ...state,\n        [origin]: {\n          ...state[origin],\n          data: null,\n          upload: {\n            loading: false,\n            loaded: false,\n            error: action.error,\n          },\n        },\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,MAAM,MAAM,uBAAuB;AAE1C,SAASC,cAAc,QAAQ,8BAA8B;AAE7D,MAAMC,YAAY,GAAG,CAAC,CAAC;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,cAAcA,CAACC,KAAK,GAAGF,YAAY,EAAEG,MAAM,GAAG,CAAC,CAAC,EAAE;EACxE,IAAI;IAAEC,MAAM;IAAEC;EAAO,CAAC,GAAGF,MAAM;EAC/B,QAAQA,MAAM,CAACG,IAAI;IACjB,KAAK,GAAGP,cAAc,UAAU;MAC9B,OAAAQ,aAAA,CAAAA,aAAA,KACKL,KAAK;QACR,CAACG,MAAM,GAAAE,aAAA,CAAAA,aAAA,KACFL,KAAK,CAACG,MAAM,CAAC;UAChBG,MAAM,EAAE;YACNC,OAAO,EAAE,IAAI;YACbC,MAAM,EAAE,KAAK;YACbC,KAAK,EAAE;UACT;QAAC;MACF;IAEL,KAAK,GAAGZ,cAAc,UAAU;MAC9B,OAAAQ,aAAA,CAAAA,aAAA,KACKL,KAAK;QACR,CAACG,MAAM,GAAAE,aAAA,CAAAA,aAAA,KACFL,KAAK,CAACG,MAAM,CAAC;UAChBO,IAAI,EAAAL,aAAA,CAAAA,aAAA,KACCH,MAAM;YACTS,KAAK,EACHV,MAAM,CAACC,MAAM,IACbD,MAAM,CAACC,MAAM,CAACS,KAAK,IACnBV,MAAM,CAACC,MAAM,CAACS,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAAR,aAAA,CAAAA,aAAA,KACxBQ,IAAI;cACPC,GAAG,EAAED,IAAI,CAAC,KAAK,CAAC,CAACE,OAAO,CAACnB,MAAM,CAACoB,QAAQ,CAACC,OAAO,EAAE,EAAE;YAAC,EACrD;UAAC,EACN;UACDX,MAAM,EAAE;YACNC,OAAO,EAAE,KAAK;YACdC,MAAM,EAAE,IAAI;YACZC,KAAK,EAAE;UACT;QAAC;MACF;IAEL,KAAK,GAAGZ,cAAc,OAAO;MAC3B,OAAAQ,aAAA,CAAAA,aAAA,KACKL,KAAK;QACR,CAACG,MAAM,GAAAE,aAAA,CAAAA,aAAA,KACFL,KAAK,CAACG,MAAM,CAAC;UAChBO,IAAI,EAAE,IAAI;UACVJ,MAAM,EAAE;YACNC,OAAO,EAAE,KAAK;YACdC,MAAM,EAAE,KAAK;YACbC,KAAK,EAAER,MAAM,CAACQ;UAChB;QAAC;MACF;IAEL;MACE,OAAOT,KAAK;EAChB;AACF","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}