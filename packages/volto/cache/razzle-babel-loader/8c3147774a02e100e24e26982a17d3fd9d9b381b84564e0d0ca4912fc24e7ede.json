{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Sidebar/ObjectBrowser.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport React from 'react';\nimport ObjectBrowserBody from '@plone/volto/components/manage/Sidebar/ObjectBrowserBody';\nimport SidebarPopup from '@plone/volto/components/manage/Sidebar/SidebarPopup';\nimport { getBaseUrl } from '@plone/volto/helpers/Url/Url';\nconst withObjectBrowser = WrappedComponent => {\n  var _Class;\n  return _Class = class extends React.Component {\n    constructor() {\n      super();\n      /**\n       * openObjectBrowser\n       * @function openObjectBrowser\n       * @param {Object} object ObjectBrowser configuration.\n       * @param {string} object.mode Quick mode, defaults to `image`. Values: link, image, multiple\n       * @param {string} object.dataName Name of the block data property to write the selected item.\n       * @param {string} object.onSelectItem Function that will be called on item selection.\n       * @param {string} object.overlay Boolean to show overlay background on content when opening objectBrowser.\n       *\n       * Usage:\n       *\n       * this.props.openObjectBrowser();\n       *\n       * this.props.openObjectBrowser({mode: 'link'});\n       *\n       * this.props.openObjectBrowser({\n       *   dataName: 'myfancydatafield'\n       *   });\n       *\n       * this.props.openObjectBrowser({\n       *   onSelectItem: url =>\n       *     this.props.onChangeBlock(this.props.block, {\n       *       ...this.props.data,\n       *       myfancydatafield: url,\n       *     }),\n       *   });\n       */\n      _defineProperty(this, \"openObjectBrowser\", ({\n        mode = 'image',\n        onSelectItem = null,\n        dataName = null,\n        overlay = null,\n        propDataName = null,\n        searchableTypes,\n        selectableTypes,\n        maximumSelectionSize,\n        currentPath\n      } = {}) => this.setState(() => ({\n        isObjectBrowserOpen: true,\n        mode,\n        onSelectItem,\n        dataName,\n        overlay,\n        propDataName,\n        searchableTypes,\n        selectableTypes,\n        maximumSelectionSize,\n        currentPath\n      })));\n      _defineProperty(this, \"closeObjectBrowser\", () => this.setState({\n        isObjectBrowserOpen: false\n      }));\n      this.state = {\n        isObjectBrowserOpen: false\n      };\n    }\n    render() {\n      var _this$state, _this$props$location;\n      let contextURL = ((_this$state = this.state) === null || _this$state === void 0 ? void 0 : _this$state.currentPath) || this.props.pathname || ((_this$props$location = this.props.location) === null || _this$props$location === void 0 ? void 0 : _this$props$location.pathname);\n      return __jsx(React.Fragment, null, __jsx(WrappedComponent, _extends({}, this.props, {\n        isObjectBrowserOpen: this.state.isObjectBrowserOpen,\n        openObjectBrowser: this.openObjectBrowser,\n        closeObjectBrowser: this.closeObjectBrowser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      })), __jsx(React.Fragment, null, __jsx(SidebarPopup, {\n        open: this.state.isObjectBrowserOpen,\n        onClose: this.closeObjectBrowser,\n        overlay: this.state.overlay,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      }, __jsx(ObjectBrowserBody, _extends({}, this.props, {\n        data: this.state.propDataName && this.props[this.state.propDataName] ? this.props[this.state.propDataName] : this.props.data,\n        contextURL: getBaseUrl(contextURL),\n        closeObjectBrowser: this.closeObjectBrowser,\n        mode: this.state.mode,\n        onSelectItem: this.state.onSelectItem,\n        dataName: this.state.dataName,\n        searchableTypes: this.state.searchableTypes,\n        selectableTypes: this.state.selectableTypes,\n        maximumSelectionSize: this.state.maximumSelectionSize,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }, _defineProperty(_Class, \"defaultProps\", {\n    onChangeBlock: () => {},\n    data: {},\n    block: new Date().getTime() + ''\n  }), _Class;\n};\nexport default withObjectBrowser;","map":{"version":3,"names":["React","ObjectBrowserBody","SidebarPopup","getBaseUrl","withObjectBrowser","WrappedComponent","_Class","Component","constructor","_defineProperty","mode","onSelectItem","dataName","overlay","propDataName","searchableTypes","selectableTypes","maximumSelectionSize","currentPath","setState","isObjectBrowserOpen","state","render","_this$state","_this$props$location","contextURL","props","pathname","location","__jsx","Fragment","_extends","openObjectBrowser","closeObjectBrowser","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","open","onClose","data","onChangeBlock","block","Date","getTime"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Sidebar/ObjectBrowser.jsx"],"sourcesContent":["import React from 'react';\nimport ObjectBrowserBody from '@plone/volto/components/manage/Sidebar/ObjectBrowserBody';\nimport SidebarPopup from '@plone/volto/components/manage/Sidebar/SidebarPopup';\nimport { getBaseUrl } from '@plone/volto/helpers/Url/Url';\n\nconst withObjectBrowser = (WrappedComponent) =>\n  class extends React.Component {\n    /**\n     * Default properties\n     * @property {Object} defaultProps Default properties.\n     * @static\n     */\n    static defaultProps = {\n      onChangeBlock: () => {},\n      data: {},\n      block: new Date().getTime() + '',\n    };\n\n    constructor() {\n      super();\n      this.state = { isObjectBrowserOpen: false };\n    }\n\n    /**\n     * openObjectBrowser\n     * @function openObjectBrowser\n     * @param {Object} object ObjectBrowser configuration.\n     * @param {string} object.mode Quick mode, defaults to `image`. Values: link, image, multiple\n     * @param {string} object.dataName Name of the block data property to write the selected item.\n     * @param {string} object.onSelectItem Function that will be called on item selection.\n     * @param {string} object.overlay Boolean to show overlay background on content when opening objectBrowser.\n     *\n     * Usage:\n     *\n     * this.props.openObjectBrowser();\n     *\n     * this.props.openObjectBrowser({mode: 'link'});\n     *\n     * this.props.openObjectBrowser({\n     *   dataName: 'myfancydatafield'\n     *   });\n     *\n     * this.props.openObjectBrowser({\n     *   onSelectItem: url =>\n     *     this.props.onChangeBlock(this.props.block, {\n     *       ...this.props.data,\n     *       myfancydatafield: url,\n     *     }),\n     *   });\n     */\n    openObjectBrowser = ({\n      mode = 'image',\n      onSelectItem = null,\n      dataName = null,\n      overlay = null,\n      propDataName = null,\n      searchableTypes,\n      selectableTypes,\n      maximumSelectionSize,\n      currentPath,\n    } = {}) =>\n      this.setState(() => ({\n        isObjectBrowserOpen: true,\n        mode,\n        onSelectItem,\n        dataName,\n        overlay,\n        propDataName,\n        searchableTypes,\n        selectableTypes,\n        maximumSelectionSize,\n        currentPath,\n      }));\n\n    closeObjectBrowser = () => this.setState({ isObjectBrowserOpen: false });\n\n    render() {\n      let contextURL =\n        this.state?.currentPath ||\n        this.props.pathname ||\n        this.props.location?.pathname;\n\n      return (\n        <>\n          <WrappedComponent\n            {...this.props}\n            isObjectBrowserOpen={this.state.isObjectBrowserOpen}\n            openObjectBrowser={this.openObjectBrowser}\n            closeObjectBrowser={this.closeObjectBrowser}\n          />\n\n          <>\n            <SidebarPopup\n              open={this.state.isObjectBrowserOpen}\n              onClose={this.closeObjectBrowser}\n              overlay={this.state.overlay}\n            >\n              <ObjectBrowserBody\n                {...this.props}\n                data={\n                  this.state.propDataName && this.props[this.state.propDataName]\n                    ? this.props[this.state.propDataName]\n                    : this.props.data\n                }\n                contextURL={getBaseUrl(contextURL)}\n                closeObjectBrowser={this.closeObjectBrowser}\n                mode={this.state.mode}\n                onSelectItem={this.state.onSelectItem}\n                dataName={this.state.dataName}\n                searchableTypes={this.state.searchableTypes}\n                selectableTypes={this.state.selectableTypes}\n                maximumSelectionSize={this.state.maximumSelectionSize}\n              />\n            </SidebarPopup>\n          </>\n        </>\n      );\n    }\n  };\n\nexport default withObjectBrowser;\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,iBAAiB,MAAM,0DAA0D;AACxF,OAAOC,YAAY,MAAM,qDAAqD;AAC9E,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,MAAMC,iBAAiB,GAAIC,gBAAgB;EAAA,IAAAC,MAAA;EAAA,OAAAA,MAAA,GACzC,cAAcN,KAAK,CAACO,SAAS,CAAC;IAY5BC,WAAWA,CAAA,EAAG;MACZ,KAAK,CAAC,CAAC;MAIT;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MA1BIC,eAAA,4BA2BoB,CAAC;QACnBC,IAAI,GAAG,OAAO;QACdC,YAAY,GAAG,IAAI;QACnBC,QAAQ,GAAG,IAAI;QACfC,OAAO,GAAG,IAAI;QACdC,YAAY,GAAG,IAAI;QACnBC,eAAe;QACfC,eAAe;QACfC,oBAAoB;QACpBC;MACF,CAAC,GAAG,CAAC,CAAC,KACJ,IAAI,CAACC,QAAQ,CAAC,OAAO;QACnBC,mBAAmB,EAAE,IAAI;QACzBV,IAAI;QACJC,YAAY;QACZC,QAAQ;QACRC,OAAO;QACPC,YAAY;QACZC,eAAe;QACfC,eAAe;QACfC,oBAAoB;QACpBC;MACF,CAAC,CAAC,CAAC;MAAAT,eAAA,6BAEgB,MAAM,IAAI,CAACU,QAAQ,CAAC;QAAEC,mBAAmB,EAAE;MAAM,CAAC,CAAC;MAtDtE,IAAI,CAACC,KAAK,GAAG;QAAED,mBAAmB,EAAE;MAAM,CAAC;IAC7C;IAuDAE,MAAMA,CAAA,EAAG;MAAA,IAAAC,WAAA,EAAAC,oBAAA;MACP,IAAIC,UAAU,GACZ,EAAAF,WAAA,OAAI,CAACF,KAAK,cAAAE,WAAA,uBAAVA,WAAA,CAAYL,WAAW,KACvB,IAAI,CAACQ,KAAK,CAACC,QAAQ,MAAAH,oBAAA,GACnB,IAAI,CAACE,KAAK,CAACE,QAAQ,cAAAJ,oBAAA,uBAAnBA,oBAAA,CAAqBG,QAAQ;MAE/B,OACEE,KAAA,CAAA7B,KAAA,CAAA8B,QAAA,QACED,KAAA,CAACxB,gBAAgB,EAAA0B,QAAA,KACX,IAAI,CAACL,KAAK;QACdN,mBAAmB,EAAE,IAAI,CAACC,KAAK,CAACD,mBAAoB;QACpDY,iBAAiB,EAAE,IAAI,CAACA,iBAAkB;QAC1CC,kBAAkB,EAAE,IAAI,CAACA,kBAAmB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAC7C,CAAC,EAEFV,KAAA,CAAA7B,KAAA,CAAA8B,QAAA,QACED,KAAA,CAAC3B,YAAY;QACXsC,IAAI,EAAE,IAAI,CAACnB,KAAK,CAACD,mBAAoB;QACrCqB,OAAO,EAAE,IAAI,CAACR,kBAAmB;QACjCpB,OAAO,EAAE,IAAI,CAACQ,KAAK,CAACR,OAAQ;QAAAqB,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAE5BV,KAAA,CAAC5B,iBAAiB,EAAA8B,QAAA,KACZ,IAAI,CAACL,KAAK;QACdgB,IAAI,EACF,IAAI,CAACrB,KAAK,CAACP,YAAY,IAAI,IAAI,CAACY,KAAK,CAAC,IAAI,CAACL,KAAK,CAACP,YAAY,CAAC,GAC1D,IAAI,CAACY,KAAK,CAAC,IAAI,CAACL,KAAK,CAACP,YAAY,CAAC,GACnC,IAAI,CAACY,KAAK,CAACgB,IAChB;QACDjB,UAAU,EAAEtB,UAAU,CAACsB,UAAU,CAAE;QACnCQ,kBAAkB,EAAE,IAAI,CAACA,kBAAmB;QAC5CvB,IAAI,EAAE,IAAI,CAACW,KAAK,CAACX,IAAK;QACtBC,YAAY,EAAE,IAAI,CAACU,KAAK,CAACV,YAAa;QACtCC,QAAQ,EAAE,IAAI,CAACS,KAAK,CAACT,QAAS;QAC9BG,eAAe,EAAE,IAAI,CAACM,KAAK,CAACN,eAAgB;QAC5CC,eAAe,EAAE,IAAI,CAACK,KAAK,CAACL,eAAgB;QAC5CC,oBAAoB,EAAE,IAAI,CAACI,KAAK,CAACJ,oBAAqB;QAAAiB,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACvD,CACW,CACd,CACF,CAAC;IAEP;EACF,CAAC,EAAA9B,eAAA,CAAAH,MAAA,kBA1GuB;IACpBqC,aAAa,EAAEA,CAAA,KAAM,CAAC,CAAC;IACvBD,IAAI,EAAE,CAAC,CAAC;IACRE,KAAK,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,GAAG;EAChC,CAAC,GAAAxC,MAAA;AAAA,CAsGF;AAEH,eAAeF,iBAAiB","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}