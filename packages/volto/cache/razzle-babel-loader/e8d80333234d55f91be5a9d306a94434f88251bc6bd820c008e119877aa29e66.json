{"ast":null,"code":"import _extends from \"/Users/varshanmaji/Projects/volto/node_modules/.pnpm/@babel+runtime@7.20.6/node_modules/@babel/runtime/helpers/esm/extends.js\";\nvar _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Widgets/QuerySortOnWidget.jsx\",\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React from 'react';\nimport FormFieldWrapper from '@plone/volto/components/manage/Widgets/FormFieldWrapper';\nimport toPairs from 'lodash/toPairs';\nimport groupBy from 'lodash/groupBy';\nimport map from 'lodash/map';\nimport { defineMessages, useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport { Option, DropdownIndicator, selectTheme, customSelectStyles } from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\nconst messages = defineMessages({\n  SortOn: {\n    \"id\": \"Sort on\",\n    \"defaultMessage\": \"Sort on\"\n  },\n  NoSelection: {\n    \"id\": \"No selection\",\n    \"defaultMessage\": \"No selection\"\n  }\n});\nfunction QueryStringSortOrderWidget(props) {\n  _s();\n  var _sortable_indexes$val;\n  const {\n    id,\n    value,\n    onChange,\n    reactSelect,\n    isDisabled\n  } = props;\n  const sortable_indexes = useSelector(state => state.querystring.sortable_indexes);\n  const intl = useIntl();\n  const Select = reactSelect.default;\n  return __jsx(FormFieldWrapper, _extends({}, props, {\n    draggable: false,\n    className: \"query-sort-on-widget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }), __jsx(Select, {\n    id: \"select-listingblock-sort-on\",\n    name: \"select-listingblock-sort-on\",\n    className: \"react-select-container\",\n    classNamePrefix: \"react-select\"\n    // placeholder=\"Select criteria\"\n    ,\n    isDisabled: isDisabled,\n    options: [{\n      label: intl.formatMessage(messages.NoSelection),\n      value: ''\n    }, ...map(toPairs(groupBy(toPairs(sortable_indexes), item => item[1].group)), group => ({\n      label: group[0],\n      options: map(group[1], field => ({\n        label: field[1].title,\n        value: field[0]\n      }))\n    }))],\n    styles: customSelectStyles,\n    theme: selectTheme,\n    components: {\n      DropdownIndicator,\n      Option\n    },\n    value: {\n      value: value || '',\n      label: value && sortable_indexes ? (_sortable_indexes$val = sortable_indexes[value]) === null || _sortable_indexes$val === void 0 ? void 0 : _sortable_indexes$val.title : value || intl.formatMessage(messages.NoSelection)\n    },\n    onChange: field => {\n      onChange(id, field.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }));\n}\n_s(QueryStringSortOrderWidget, \"12Xgv+B/o9JOEyMV6KPfEWmsfo4=\", false, function () {\n  return [useSelector, useIntl];\n});\n_c = QueryStringSortOrderWidget;\nexport default injectLazyLibs(['reactSelect'])(QueryStringSortOrderWidget);\nvar _c;\n$RefreshReg$(_c, \"QueryStringSortOrderWidget\");","map":{"version":3,"names":["React","FormFieldWrapper","toPairs","groupBy","map","defineMessages","useIntl","useSelector","Option","DropdownIndicator","selectTheme","customSelectStyles","injectLazyLibs","messages","SortOn","NoSelection","QueryStringSortOrderWidget","props","_s","_sortable_indexes$val","id","value","onChange","reactSelect","isDisabled","sortable_indexes","state","querystring","intl","Select","default","__jsx","_extends","draggable","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","classNamePrefix","options","label","formatMessage","item","group","field","title","styles","theme","components","_c","$RefreshReg$"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Widgets/QuerySortOnWidget.jsx"],"sourcesContent":["import React from 'react';\nimport FormFieldWrapper from '@plone/volto/components/manage/Widgets/FormFieldWrapper';\nimport toPairs from 'lodash/toPairs';\nimport groupBy from 'lodash/groupBy';\nimport map from 'lodash/map';\nimport { defineMessages, useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport {\n  Option,\n  DropdownIndicator,\n  selectTheme,\n  customSelectStyles,\n} from '@plone/volto/components/manage/Widgets/SelectStyling';\nimport { injectLazyLibs } from '@plone/volto/helpers/Loadable/Loadable';\n\nconst messages = defineMessages({\n  SortOn: {\n    id: 'Sort on',\n    defaultMessage: 'Sort on',\n  },\n  NoSelection: {\n    id: 'No selection',\n    defaultMessage: 'No selection',\n  },\n});\n\nfunction QueryStringSortOrderWidget(props) {\n  const { id, value, onChange, reactSelect, isDisabled } = props;\n  const sortable_indexes = useSelector(\n    (state) => state.querystring.sortable_indexes,\n  );\n  const intl = useIntl();\n  const Select = reactSelect.default;\n\n  return (\n    <FormFieldWrapper\n      {...props}\n      draggable={false}\n      className=\"query-sort-on-widget\"\n    >\n      <Select\n        id=\"select-listingblock-sort-on\"\n        name=\"select-listingblock-sort-on\"\n        className=\"react-select-container\"\n        classNamePrefix=\"react-select\"\n        // placeholder=\"Select criteria\"\n        isDisabled={isDisabled}\n        options={[\n          {\n            label: intl.formatMessage(messages.NoSelection),\n            value: '',\n          },\n          ...map(\n            toPairs(\n              groupBy(toPairs(sortable_indexes), (item) => item[1].group),\n            ),\n            (group) => ({\n              label: group[0],\n              options: map(group[1], (field) => ({\n                label: field[1].title,\n                value: field[0],\n              })),\n            }),\n          ),\n        ]}\n        styles={customSelectStyles}\n        theme={selectTheme}\n        components={{ DropdownIndicator, Option }}\n        value={{\n          value: value || '',\n          label:\n            value && sortable_indexes\n              ? sortable_indexes[value]?.title\n              : value || intl.formatMessage(messages.NoSelection),\n        }}\n        onChange={(field) => {\n          onChange(id, field.value);\n        }}\n      />\n    </FormFieldWrapper>\n  );\n}\n\nexport default injectLazyLibs(['reactSelect'])(QueryStringSortOrderWidget);\n"],"mappings":"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","ignoreList":[]},"metadata":{"react-intl":{"messages":[{"id":"Sort on","defaultMessage":"Sort on"},{"id":"No selection","defaultMessage":"No selection"}]}},"sourceType":"module","externalDependencies":[]}