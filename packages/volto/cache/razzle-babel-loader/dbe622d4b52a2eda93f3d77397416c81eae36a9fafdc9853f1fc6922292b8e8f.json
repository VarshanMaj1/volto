{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Delete/Delete.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { createPortal } from 'react-dom';\nimport { Button, Container, List, Segment } from 'semantic-ui-react';\nimport { FormattedMessage, defineMessages, useIntl } from 'react-intl';\nimport qs from 'query-string';\nimport Toolbar from '@plone/volto/components/manage/Toolbar/Toolbar';\nimport Helmet from '@plone/volto/helpers/Helmet/Helmet';\nimport { usePrevious } from '@plone/volto/helpers/Utils/usePrevious';\nimport { deleteContent, getContent } from '@plone/volto/actions/content/content';\nconst messages = defineMessages({\n  delete: {\n    \"id\": \"Delete\",\n    \"defaultMessage\": \"Delete\"\n  },\n  ok: {\n    \"id\": \"Ok\",\n    \"defaultMessage\": \"Ok\"\n  },\n  cancel: {\n    \"id\": \"Cancel\",\n    \"defaultMessage\": \"Cancel\"\n  }\n});\nconst Delete = () => {\n  _s();\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const {\n    0: isClient,\n    1: setisClient\n  } = useState(false);\n  const {\n    pathname,\n    search\n  } = useLocation();\n  const history = useHistory();\n  const deleteRequest = useSelector(state => {\n    var _state$content;\n    return (_state$content = state.content) === null || _state$content === void 0 ? void 0 : _state$content.delete;\n  });\n  const content = useSelector(state => {\n    var _state$content2;\n    return (_state$content2 = state.content) === null || _state$content2 === void 0 ? void 0 : _state$content2.data;\n  }, shallowEqual);\n  const prevdeleteRequestLoading = usePrevious(deleteRequest.loading);\n  const returnUrl = qs.parse(search).return_url;\n  useEffect(() => {\n    setisClient(true);\n  }, []);\n  useEffect(() => {\n    dispatch(getContent(pathname.split('/delete')[0]));\n  }, [dispatch, pathname]);\n  useEffect(() => {\n    if (prevdeleteRequestLoading && deleteRequest.loaded) {\n      history.push(returnUrl || pathname.replace('/delete', '').replace(/\\/[^/]*$/, ''));\n    }\n  }, [history, pathname, returnUrl, prevdeleteRequestLoading, deleteRequest.loaded]);\n  const onSubmit = () => {\n    dispatch(deleteContent(pathname.replace('/delete', '')));\n  };\n  const onCancel = () => {\n    history.push(pathname.replace('/delete', ''));\n  };\n  if (content) {\n    return __jsx(\"div\", {\n      id: \"page-delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, __jsx(Helmet, {\n      title: intl.formatMessage(messages.delete),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }), __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, __jsx(Segment.Group, {\n      raised: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, __jsx(Segment, {\n      className: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, __jsx(FormattedMessage, {\n      id: \"Do you really want to delete this item?\",\n      defaultMessage: \"Do you really want to delete this item?\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    })), __jsx(Segment, {\n      attached: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, __jsx(List, {\n      bulleted: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, __jsx(List.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, content.title))), __jsx(Segment, {\n      className: \"actions\",\n      clearing: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, __jsx(Button, {\n      basic: true,\n      circular: true,\n      primary: true,\n      floated: \"right\",\n      icon: \"arrow right\",\n      \"aria-label\": intl.formatMessage(messages.ok),\n      title: intl.formatMessage(messages.ok),\n      size: \"big\",\n      onClick: onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }), __jsx(Button, {\n      basic: true,\n      circular: true,\n      secondary: true,\n      icon: \"remove\",\n      \"aria-label\": intl.formatMessage(messages.cancel),\n      title: intl.formatMessage(messages.cancel),\n      floated: \"right\",\n      size: \"big\",\n      onClick: onCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    })))), isClient && /*#__PURE__*/createPortal(__jsx(Toolbar, {\n      pathname: pathname,\n      hideDefaultViewButtons: true,\n      inner: __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 22\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }), document.getElementById('toolbar')));\n  }\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 10\n    }\n  });\n};\n_s(Delete, \"al+gMrQDIG6SFRfvWxkWcWCSKhg=\", false, function () {\n  return [useDispatch, useIntl, useLocation, useHistory, useSelector, useSelector, usePrevious];\n});\n_c = Delete;\nexport default Delete;\nvar _c;\n$RefreshReg$(_c, \"Delete\");","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","shallowEqual","useHistory","useLocation","createPortal","Button","Container","List","Segment","FormattedMessage","defineMessages","useIntl","qs","Toolbar","Helmet","usePrevious","deleteContent","getContent","messages","delete","ok","cancel","Delete","_s","dispatch","intl","isClient","setisClient","pathname","search","history","deleteRequest","state","_state$content","content","_state$content2","data","prevdeleteRequestLoading","loading","returnUrl","parse","return_url","split","loaded","push","replace","onSubmit","onCancel","__jsx","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","formatMessage","Group","raised","className","defaultMessage","attached","bulleted","Item","clearing","basic","circular","primary","floated","icon","size","onClick","secondary","hideDefaultViewButtons","inner","document","getElementById","_c","$RefreshReg$"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Delete/Delete.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { createPortal } from 'react-dom';\nimport { Button, Container, List, Segment } from 'semantic-ui-react';\nimport { FormattedMessage, defineMessages, useIntl } from 'react-intl';\nimport qs from 'query-string';\n\nimport Toolbar from '@plone/volto/components/manage/Toolbar/Toolbar';\nimport Helmet from '@plone/volto/helpers/Helmet/Helmet';\nimport { usePrevious } from '@plone/volto/helpers/Utils/usePrevious';\nimport {\n  deleteContent,\n  getContent,\n} from '@plone/volto/actions/content/content';\n\nconst messages = defineMessages({\n  delete: {\n    id: 'Delete',\n    defaultMessage: 'Delete',\n  },\n  ok: {\n    id: 'Ok',\n    defaultMessage: 'Ok',\n  },\n  cancel: {\n    id: 'Cancel',\n    defaultMessage: 'Cancel',\n  },\n});\n\nconst Delete = () => {\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const [isClient, setisClient] = useState(false);\n  const { pathname, search } = useLocation();\n  const history = useHistory();\n  const deleteRequest = useSelector((state) => state.content?.delete);\n  const content = useSelector((state) => state.content?.data, shallowEqual);\n\n  const prevdeleteRequestLoading = usePrevious(deleteRequest.loading);\n  const returnUrl = qs.parse(search).return_url;\n\n  useEffect(() => {\n    setisClient(true);\n  }, []);\n\n  useEffect(() => {\n    dispatch(getContent(pathname.split('/delete')[0]));\n  }, [dispatch, pathname]);\n\n  useEffect(() => {\n    if (prevdeleteRequestLoading && deleteRequest.loaded) {\n      history.push(\n        returnUrl || pathname.replace('/delete', '').replace(/\\/[^/]*$/, ''),\n      );\n    }\n  }, [\n    history,\n    pathname,\n    returnUrl,\n    prevdeleteRequestLoading,\n    deleteRequest.loaded,\n  ]);\n\n  const onSubmit = () => {\n    dispatch(deleteContent(pathname.replace('/delete', '')));\n  };\n\n  const onCancel = () => {\n    history.push(pathname.replace('/delete', ''));\n  };\n\n  if (content) {\n    return (\n      <div id=\"page-delete\">\n        <Helmet title={intl.formatMessage(messages.delete)} />\n        <Container>\n          <Segment.Group raised>\n            <Segment className=\"primary\">\n              <FormattedMessage\n                id=\"Do you really want to delete this item?\"\n                defaultMessage=\"Do you really want to delete this item?\"\n              />\n            </Segment>\n            <Segment attached>\n              <List bulleted>\n                <List.Item>{content.title}</List.Item>\n              </List>\n            </Segment>\n            <Segment className=\"actions\" clearing>\n              <Button\n                basic\n                circular\n                primary\n                floated=\"right\"\n                icon=\"arrow right\"\n                aria-label={intl.formatMessage(messages.ok)}\n                title={intl.formatMessage(messages.ok)}\n                size=\"big\"\n                onClick={onSubmit}\n              />\n              <Button\n                basic\n                circular\n                secondary\n                icon=\"remove\"\n                aria-label={intl.formatMessage(messages.cancel)}\n                title={intl.formatMessage(messages.cancel)}\n                floated=\"right\"\n                size=\"big\"\n                onClick={onCancel}\n              />\n            </Segment>\n          </Segment.Group>\n        </Container>\n        {isClient &&\n          createPortal(\n            <Toolbar\n              pathname={pathname}\n              hideDefaultViewButtons\n              inner={<span />}\n            />,\n            document.getElementById('toolbar'),\n          )}\n      </div>\n    );\n  }\n  return <div />;\n};\n\nexport default Delete;\n"],"mappings":"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","ignoreList":[]},"metadata":{"react-intl":{"messages":[{"id":"Delete","defaultMessage":"Delete"},{"id":"Ok","defaultMessage":"Ok"},{"id":"Cancel","defaultMessage":"Cancel"},{"id":"Do you really want to delete this item?","defaultMessage":"Do you really want to delete this item?"}]}},"sourceType":"module","externalDependencies":[]}