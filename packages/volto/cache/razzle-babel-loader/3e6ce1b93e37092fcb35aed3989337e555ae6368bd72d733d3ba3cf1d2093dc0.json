{"ast":null,"code":"const _excluded = [\"clone\", \"data\", \"depth\", \"disableSelection\", \"disableInteraction\", \"ghost\", \"id\", \"handleProps\", \"indentationWidth\", \"onRemove\", \"onSelectBlock\", \"parentId\", \"style\", \"value\", \"wrapperRef\", \"errors\"];\nvar _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Blocks/Block/Order/Item.jsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport includes from 'lodash/includes';\nimport cx from 'classnames';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\nimport { setUIState } from '@plone/volto/actions/form/form';\nimport config from '@plone/volto/registry';\nimport deleteSVG from '@plone/volto/icons/delete.svg';\nimport dragSVG from '@plone/volto/icons/drag.svg';\nexport const Item = /*#__PURE__*/forwardRef((_ref, ref) => {\n  var _config$blocks$blocks, _config$blocks$blocks2, _config$blocks$blocks3;\n  let {\n      clone,\n      data,\n      depth,\n      disableSelection,\n      disableInteraction,\n      ghost,\n      id,\n      handleProps,\n      indentationWidth,\n      onRemove,\n      onSelectBlock,\n      parentId,\n      style,\n      value,\n      wrapperRef,\n      errors\n    } = _ref,\n    props = _objectWithoutProperties(_ref, _excluded);\n  const selected = useSelector(state => state.form.ui.selected);\n  const hovered = useSelector(state => state.form.ui.hovered);\n  const multiSelected = useSelector(state => state.form.ui.multiSelected);\n  const gridSelected = useSelector(state => state.form.ui.gridSelected);\n  const dispatch = useDispatch();\n  return __jsx(\"li\", _extends({\n    className: classNames('tree-item-wrapper', clone && 'clone', ghost && 'ghost', disableSelection && 'disable-selection', disableInteraction && 'disable-interaction'),\n    role: \"presentation\",\n    onMouseOver: () => dispatch(setUIState({\n      hovered: id\n    })),\n    onFocus: () => dispatch(setUIState({\n      hovered: id\n    })),\n    onMouseLeave: () => dispatch(setUIState({\n      hovered: null\n    })),\n    onClick: e => {\n      if (depth === 0) {\n        const isMultipleSelection = e.shiftKey || e.ctrlKey || e.metaKey;\n        selected !== id && onSelectBlock(id, selected === id ? false : isMultipleSelection, e);\n      } else {\n        dispatch(setUIState({\n          selected: parentId,\n          multiSelected: [],\n          gridSelected: id\n        }));\n      }\n    },\n    ref: wrapperRef,\n    style: {\n      '--spacing': `${indentationWidth * depth}px`\n    }\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: classNames('tree-item', (selected === id || gridSelected === id) && 'selected', hovered === id && 'hovered', includes(multiSelected, id) && 'multiSelected', `depth-${depth}`),\n    ref: ref,\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", _extends({\n    ref: ref\n  }, handleProps, {\n    className: classNames('action', 'drag'),\n    tabIndex: 0,\n    \"data-cypress\": \"draggable-handle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }), __jsx(Icon, {\n    name: dragSVG,\n    size: \"16px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), __jsx(\"span\", {\n    className: cx('text', {\n      errored: errors && Object.keys(errors).length > 0\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, ((_config$blocks$blocks = config.blocks.blocksConfig[data === null || data === void 0 ? void 0 : data['@type']]) === null || _config$blocks$blocks === void 0 ? void 0 : _config$blocks$blocks.icon) && __jsx(Icon, {\n    name: (_config$blocks$blocks2 = config.blocks.blocksConfig[data === null || data === void 0 ? void 0 : data['@type']]) === null || _config$blocks$blocks2 === void 0 ? void 0 : _config$blocks$blocks2.icon,\n    size: \"20px\",\n    style: {\n      verticalAlign: 'middle'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }), ' ', (data === null || data === void 0 ? void 0 : data.plaintext) || ((_config$blocks$blocks3 = config.blocks.blocksConfig[data === null || data === void 0 ? void 0 : data['@type']]) === null || _config$blocks$blocks3 === void 0 ? void 0 : _config$blocks$blocks3.title)), !clone && onRemove && __jsx(\"button\", {\n    onClick: onRemove,\n    className: classNames('action', 'delete'),\n    tabIndex: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, __jsx(Icon, {\n    name: deleteSVG,\n    size: \"18\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }))));\n});","map":{"version":3,"names":["React","forwardRef","classNames","useDispatch","useSelector","includes","cx","Icon","setUIState","config","deleteSVG","dragSVG","Item","_ref","ref","_config$blocks$blocks","_config$blocks$blocks2","_config$blocks$blocks3","clone","data","depth","disableSelection","disableInteraction","ghost","id","handleProps","indentationWidth","onRemove","onSelectBlock","parentId","style","value","wrapperRef","errors","props","_objectWithoutProperties","_excluded","selected","state","form","ui","hovered","multiSelected","gridSelected","dispatch","__jsx","_extends","className","role","onMouseOver","onFocus","onMouseLeave","onClick","e","isMultipleSelection","shiftKey","ctrlKey","metaKey","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","tabIndex","name","size","errored","Object","keys","length","blocks","blocksConfig","icon","verticalAlign","plaintext","title"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Blocks/Block/Order/Item.jsx"],"sourcesContent":["import React, { forwardRef } from 'react';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport includes from 'lodash/includes';\nimport cx from 'classnames';\nimport Icon from '@plone/volto/components/theme/Icon/Icon';\nimport { setUIState } from '@plone/volto/actions/form/form';\nimport config from '@plone/volto/registry';\n\nimport deleteSVG from '@plone/volto/icons/delete.svg';\nimport dragSVG from '@plone/volto/icons/drag.svg';\n\nexport const Item = forwardRef(\n  (\n    {\n      clone,\n      data,\n      depth,\n      disableSelection,\n      disableInteraction,\n      ghost,\n      id,\n      handleProps,\n      indentationWidth,\n      onRemove,\n      onSelectBlock,\n      parentId,\n      style,\n      value,\n      wrapperRef,\n      errors,\n      ...props\n    },\n    ref,\n  ) => {\n    const selected = useSelector((state) => state.form.ui.selected);\n    const hovered = useSelector((state) => state.form.ui.hovered);\n    const multiSelected = useSelector((state) => state.form.ui.multiSelected);\n    const gridSelected = useSelector((state) => state.form.ui.gridSelected);\n    const dispatch = useDispatch();\n\n    return (\n      <li\n        className={classNames(\n          'tree-item-wrapper',\n          clone && 'clone',\n          ghost && 'ghost',\n          disableSelection && 'disable-selection',\n          disableInteraction && 'disable-interaction',\n        )}\n        role=\"presentation\"\n        onMouseOver={() => dispatch(setUIState({ hovered: id }))}\n        onFocus={() => dispatch(setUIState({ hovered: id }))}\n        onMouseLeave={() => dispatch(setUIState({ hovered: null }))}\n        onClick={(e) => {\n          if (depth === 0) {\n            const isMultipleSelection = e.shiftKey || e.ctrlKey || e.metaKey;\n            selected !== id &&\n              onSelectBlock(\n                id,\n                selected === id ? false : isMultipleSelection,\n                e,\n              );\n          } else {\n            dispatch(\n              setUIState({\n                selected: parentId,\n                multiSelected: [],\n                gridSelected: id,\n              }),\n            );\n          }\n        }}\n        ref={wrapperRef}\n        style={{\n          '--spacing': `${indentationWidth * depth}px`,\n        }}\n        {...props}\n      >\n        <div\n          className={classNames(\n            'tree-item',\n            (selected === id || gridSelected === id) && 'selected',\n            hovered === id && 'hovered',\n            includes(multiSelected, id) && 'multiSelected',\n            `depth-${depth}`,\n          )}\n          ref={ref}\n          style={style}\n        >\n          <button\n            ref={ref}\n            {...handleProps}\n            className={classNames('action', 'drag')}\n            tabIndex={0}\n            data-cypress=\"draggable-handle\"\n          >\n            <Icon name={dragSVG} size=\"16px\" />\n          </button>\n          <span\n            className={cx('text', {\n              errored: errors && Object.keys(errors).length > 0,\n            })}\n          >\n            {config.blocks.blocksConfig[data?.['@type']]?.icon && (\n              <Icon\n                name={config.blocks.blocksConfig[data?.['@type']]?.icon}\n                size=\"20px\"\n                style={{ verticalAlign: 'middle' }}\n              />\n            )}{' '}\n            {data?.plaintext ||\n              config.blocks.blocksConfig[data?.['@type']]?.title}\n          </span>\n          {!clone && onRemove && (\n            <button\n              onClick={onRemove}\n              className={classNames('action', 'delete')}\n              tabIndex={0}\n            >\n              <Icon name={deleteSVG} size=\"18\" />\n            </button>\n          )}\n        </div>\n      </li>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}