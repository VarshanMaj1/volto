{"ast":null,"code":"var _jsxFileName = \"/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Sidebar/SidebarPopup.jsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { createPortal } from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport PropTypes from 'prop-types';\nimport doesNodeContainClick from 'semantic-ui-react/dist/commonjs/lib/doesNodeContainClick';\nconst DEFAULT_TIMEOUT = 500;\nconst SidebarPopup = props => {\n  var _document, _document2;\n  const {\n    children,\n    open,\n    onClose,\n    overlay\n  } = props;\n  const asideElement = React.useRef();\n  const handleClickOutside = e => {\n    if (asideElement && doesNodeContainClick(asideElement.current, e)) return;\n    onClose();\n  };\n  const handleEscapeKey = e => {\n    if (open && e.key === 'Escape') {\n      onClose();\n      e.stopPropagation();\n    }\n  };\n  const [isClient, setIsClient] = React.useState(false);\n  React.useEffect(() => {\n    setIsClient(true);\n  }, []);\n  React.useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside, false);\n    document.addEventListener('keyup', handleEscapeKey, false);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside, false);\n      document.removeEventListener('keyup', handleEscapeKey, false);\n    };\n  });\n  return __jsx(React.Fragment, null, overlay && __jsx(CSSTransition, {\n    in: open,\n    timeout: DEFAULT_TIMEOUT,\n    classNames: \"overlay-container\",\n    unmountOnExit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, __jsx(React.Fragment, null, ((_document = document) === null || _document === void 0 ? void 0 : _document.body) && /*#__PURE__*/createPortal(__jsx(\"div\", {\n    className: \"overlay-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }), (_document2 = document) === null || _document2 === void 0 ? void 0 : _document2.body))), __jsx(CSSTransition, {\n    in: open,\n    timeout: DEFAULT_TIMEOUT,\n    classNames: \"sidebar-container\",\n    unmountOnExit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, __jsx(React.Fragment, null, isClient && /*#__PURE__*/createPortal(__jsx(\"aside\", {\n    role: \"presentation\",\n    onClick: e => {\n      e.stopPropagation();\n    },\n    onKeyDown: e => {\n      e.stopPropagation();\n    },\n    ref: asideElement,\n    key: \"sidebarpopup\",\n    className: \"sidebar-container\",\n    style: {\n      overflowY: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, children), document.body))));\n};\nSidebarPopup.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  overlay: PropTypes.bool\n};\nSidebarPopup.defaultProps = {\n  open: false,\n  onClose: () => {},\n  overlay: false\n};\nexport default SidebarPopup;","map":{"version":3,"names":["React","createPortal","CSSTransition","PropTypes","doesNodeContainClick","DEFAULT_TIMEOUT","SidebarPopup","props","_document","_document2","children","open","onClose","overlay","asideElement","useRef","handleClickOutside","e","current","handleEscapeKey","key","stopPropagation","isClient","setIsClient","useState","useEffect","document","addEventListener","removeEventListener","__jsx","Fragment","in","timeout","classNames","unmountOnExit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","body","className","role","onClick","onKeyDown","ref","style","overflowY","propTypes","bool","func","defaultProps"],"sources":["/Users/varshanmaji/Projects/volto/packages/volto/src/components/manage/Sidebar/SidebarPopup.jsx"],"sourcesContent":["import React from 'react';\nimport { createPortal } from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport PropTypes from 'prop-types';\nimport doesNodeContainClick from 'semantic-ui-react/dist/commonjs/lib/doesNodeContainClick';\n\nconst DEFAULT_TIMEOUT = 500;\n\nconst SidebarPopup = (props) => {\n  const { children, open, onClose, overlay } = props;\n\n  const asideElement = React.useRef();\n\n  const handleClickOutside = (e) => {\n    if (asideElement && doesNodeContainClick(asideElement.current, e)) return;\n    onClose();\n  };\n\n  const handleEscapeKey = (e) => {\n    if (open && e.key === 'Escape') {\n      onClose();\n      e.stopPropagation();\n    }\n  };\n\n  const [isClient, setIsClient] = React.useState(false);\n  React.useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  React.useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside, false);\n    document.addEventListener('keyup', handleEscapeKey, false);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside, false);\n      document.removeEventListener('keyup', handleEscapeKey, false);\n    };\n  });\n  return (\n    <>\n      {overlay && (\n        <CSSTransition\n          in={open}\n          timeout={DEFAULT_TIMEOUT}\n          classNames=\"overlay-container\"\n          unmountOnExit\n        >\n          <>\n            {document?.body &&\n              createPortal(\n                <div className=\"overlay-container\"></div>,\n                document?.body,\n              )}\n          </>\n        </CSSTransition>\n      )}\n      <CSSTransition\n        in={open}\n        timeout={DEFAULT_TIMEOUT}\n        classNames=\"sidebar-container\"\n        unmountOnExit\n      >\n        <>\n          {isClient &&\n            createPortal(\n              <aside\n                role=\"presentation\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                }}\n                onKeyDown={(e) => {\n                  e.stopPropagation();\n                }}\n                ref={asideElement}\n                key=\"sidebarpopup\"\n                className=\"sidebar-container\"\n                style={{ overflowY: 'auto' }}\n              >\n                {children}\n              </aside>,\n              document.body,\n            )}\n        </>\n      </CSSTransition>\n    </>\n  );\n};\n\nSidebarPopup.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  overlay: PropTypes.bool,\n};\n\nSidebarPopup.defaultProps = {\n  open: false,\n  onClose: () => {},\n  overlay: false,\n};\n\nexport default SidebarPopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module","externalDependencies":[]}